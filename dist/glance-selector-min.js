(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),DiscoverParentContainer=function(){function e(n){_classCallCheck(this,e),this.findElement=n,this.customLabels={}}return _createClass(e,[{key:"search",value:function(e,n,t,r){t=t||0;for(var a=e[t],i=a.position-1,o=[],s=n;s&&0==o.length;)o=this.findElement(a.label,s,r),s=s.parentNode;o=this._limitToReferences(o,n);var c=t+1===e.length;if(c)return i>=0?o[i]?[].concat(o[i]):[]:o;var u=[];if(i>=0){var l=o[i],f=this.search(e,l,t+1,r);u=u.concat(f)}else for(var h=0;h<o.length;h++){var l=o[h],f=this.search(e,l,t+1,r);u=u.concat(f)}return this._unique(u)}},{key:"_limitToReferences",value:function(e,n){for(var t=!1,r=[],a=0;a<e.length;++a)this._isDescendant(e[a],n)&&(t=!0,r.push(e[a]));return t?r:e}},{key:"_unique",value:function(e){return e.filter(function(n,t){return e.indexOf(n)===t})}},{key:"_isDescendant",value:function(e,n){for(var t=n.parentNode;null!=t;){if(t==e)return!0;t=t.parentNode}return!1}}]),e}();exports["default"]=DiscoverParentContainer;
},{}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e,t){try{return(0,_css2["default"])("."+e,t)}catch(r){return[]}};var _css=require("./css"),_css2=_interopRequireDefault(_css);
},{"./css":4}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(t,e){try{for(var n=[],s=document.evaluate(".//*[not(self::script) and contains(text(),'"+t+"')]",e,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r=0;r<s.snapshotLength;r++)n.push(s.snapshotItem(r));return n}catch(u){return[]}};
},{}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e,r){try{var t=r.querySelectorAll(e);return Array.prototype.slice.apply(t)}catch(l){return[]}};
},{}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e,r,t){t=t||{};var n=t[e],u=n;if("function"==typeof u&&(u=n()),!u)return[];u=[].concat(u);try{var o=[];return u.forEach(function(e){isDescendant(r,e)&&o.push(e)}),o}catch(a){return[]}};var isDescendant=function(e,r){for(var t=r.parentNode;null!=t;){if(t==e)return!0;t=t.parentNode}return!1};
},{}],6:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e,t,a){_logger2["default"].debug("Searching by custom label:",e);var l=(0,_customLabel2["default"])(e,t,a||{});return l.length>0?(_logger2["default"].info("Matched using custom label:",e),l):(_logger2["default"].debug("Searching for exact text:",e),l=(0,_exactText2["default"])(e,t),l.length>0?(_logger2["default"].info("Matched using exact text:",e),l):(_logger2["default"].debug("Searching for text that contains:",e),l=(0,_containsText2["default"])(e,t),l.length>0?(_logger2["default"].info("Matched using contains text:",e),l):(_logger2["default"].debug("Searching by id:",e),l=(0,_id2["default"])(e,t),l.length>0?(_logger2["default"].info("Matched using ID:",e),l):(_logger2["default"].debug("Searching for css class:",e),l=(0,_className2["default"])(e,t),l.length>0?(_logger2["default"].info("Matched using css class:",e),l):(_logger2["default"].debug("Searching by node type:",e),l=(0,_nodeType2["default"])(e,t),l.length>0?(_logger2["default"].info("Matched using node type:",e),l):l)))))};var _logger=require("../logger"),_logger2=_interopRequireDefault(_logger),_customLabel=require("./custom-label"),_customLabel2=_interopRequireDefault(_customLabel),_exactText=require("./exact-text"),_exactText2=_interopRequireDefault(_exactText),_containsText=require("./contains-text"),_containsText2=_interopRequireDefault(_containsText),_id=require("./id"),_id2=_interopRequireDefault(_id),_className=require("./class-name"),_className2=_interopRequireDefault(_className),_nodeType=require("./node-type"),_nodeType2=_interopRequireDefault(_nodeType);
},{"../logger":11,"./class-name":2,"./contains-text":3,"./custom-label":5,"./exact-text":7,"./id":8,"./node-type":9}],7:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(t,e){try{for(var n=document.evaluate(".//*[not(self::script) and text()='"+t+"']",e,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r=[],s=0;s<n.snapshotLength;s++)r.push(n.snapshotItem(s));return r}catch(u){return[]}};
},{}],8:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e,t){try{return(0,_css2["default"])("#"+e,t)}catch(r){return[]}};var _css=require("./css"),_css2=_interopRequireDefault(_css);
},{"./css":4}],9:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e,t){try{return(0,_css2["default"])(""+e,t)}catch(r){return[]}};var _css=require("./css"),_css2=_interopRequireDefault(_css);
},{"./css":4}],10:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _selector=require("./selector"),_selector2=_interopRequireDefault(_selector);window.glanceSelector=_selector2["default"];
},{"./selector":13}],11:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var LogLevels={error:0,warn:1,info:2,debug:3,trace:4};exports["default"]={level:LogLevels.error,setLogLevel:function(r){this.level=LogLevels[r]},error:function(){for(var r=arguments.length,e=Array(r),o=0;r>o;o++)e[o]=arguments[o];this._log("error",e)},warn:function(){for(var r=arguments.length,e=Array(r),o=0;r>o;o++)e[o]=arguments[o];this._log("warn",e)},info:function(){for(var r=arguments.length,e=Array(r),o=0;r>o;o++)e[o]=arguments[o];this._log("info",e)},debug:function(){for(var r=arguments.length,e=Array(r),o=0;r>o;o++)e[o]=arguments[o];this._log("debug",e)},trace:function(){for(var r=arguments.length,e=Array(r),o=0;r>o;o++)e[o]=arguments[o];this._log("trace",e)},_log:function(r,e){var o=LogLevels[r];o<=this.level&&console.log(e.join(" "))}};
},{}],12:[function(require,module,exports){
"use strict";module.exports=function(){function n(n,r){function t(){this.constructor=n}t.prototype=r.prototype,n.prototype=new t}function r(n,t,e,u){this.message=n,this.expected=t,this.found=e,this.location=u,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}function t(n){function t(){return n.substring(V,Q)}function e(r){var t,e,u=W[r];if(u)return u;for(t=r-1;!W[t];)t--;for(u=W[t],u={line:u.line,column:u.column,seenCR:u.seenCR};r>t;)e=n.charAt(t),"\n"===e?(u.seenCR||u.line++,u.column=1,u.seenCR=!1):"\r"===e||"\u2028"===e||"\u2029"===e?(u.line++,u.column=1,u.seenCR=!0):(u.column++,u.seenCR=!1),t++;return W[r]=u,u}function u(n,r){var t=e(n),u=e(r);return{start:{offset:n,line:t.line,column:t.column},end:{offset:r,line:u.line,column:u.column}}}function o(n){X>Q||(Q>X&&(X=Q,Y=[]),Y.push(n))}function i(n,t,e,u){function o(n){var r=1;for(n.sort(function(n,r){return n.description<r.description?-1:n.description>r.description?1:0});r<n.length;)n[r-1]===n[r]?n.splice(r,1):r++}function i(n,r){function t(n){function r(n){return n.charCodeAt(0).toString(16).toUpperCase()}return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(n){return"\\x0"+r(n)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(n){return"\\x"+r(n)}).replace(/[\u0100-\u0FFF]/g,function(n){return"\\u0"+r(n)}).replace(/[\u1000-\uFFFF]/g,function(n){return"\\u"+r(n)})}var e,u,o,i=new Array(n.length);for(o=0;o<n.length;o++)i[o]=n[o].description;return e=n.length>1?i.slice(0,-1).join(", ")+" or "+i[n.length-1]:i[0],u=r?'"'+t(r)+'"':"end of input","Expected "+e+" but "+u+" found."}return null!==t&&o(t),new r(null!==n?n:i(t,e),t,e,u)}function c(){var n,r,t;for(n=Q,r=[],t=l();t!==R;)r.push(t),t=l();return r!==R&&(V=n,r=S(r)),n=r}function l(){var n,r,t;return n=Q,r=a(),r!==R?(t=f(),t===R&&(t=null),t!==R?(V=n,r=b(r),n=r):(Q=n,n=R)):(Q=n,n=R),n}function a(){var n,r,t,e;return n=Q,r=s(),r!==R?(t=v(),t===R&&(t=null),t!==R?(e=m(),e===R&&(e=null),e!==R?(V=n,r=j(r,t,e),n=r):(Q=n,n=R)):(Q=n,n=R)):(Q=n,n=R),n}function f(){var r;return 62===n.charCodeAt(Q)?(r=k,Q++):(r=R,0===Z&&o(T)),r}function s(){var n,r,t;if(n=Q,r=[],t=p(),t!==R)for(;t!==R;)r.push(t),t=p();else r=R;return r!==R&&(V=n,r=B(r)),n=r}function p(){var n,r,t;return n=Q,r=Q,Z++,t=g(),t===R&&(t=f(),t===R&&(t=x(),t===R&&(t=C()))),Z--,t===R?r=void 0:(Q=r,r=R),r!==R?(t=h(),t!==R?(V=n,r=I(t),n=r):(Q=n,n=R)):(Q=n,n=R),n===R&&(n=Q,r=d(),r!==R&&(V=n,r=I(r)),n=r),n}function h(){var r;return n.length>Q?(r=n.charAt(Q),Q++):(r=R,0===Z&&o(U)),r}function d(){var n,r,t;return n=Q,r=g(),r!==R?(t=g(),t===R&&(t=x(),t===R&&(t=f(),t===R&&(t=C()))),t!==R?(V=n,r=q(t),n=r):(Q=n,n=R)):(Q=n,n=R),n}function g(){var r;return 92===n.charCodeAt(Q)?(r=z,Q++):(r=R,0===Z&&o(D)),r}function v(){var n,r,t;return n=Q,r=x(),r!==R?(t=y(),t!==R?(V=n,r=G(t),n=r):(Q=n,n=R)):(Q=n,n=R),n}function x(){var r;return 35===n.charCodeAt(Q)?(r=H,Q++):(r=R,0===Z&&o(J)),r}function y(){var r,t,e;if(r=Q,t=[],K.test(n.charAt(Q))?(e=n.charAt(Q),Q++):(e=R,0===Z&&o(L)),e!==R)for(;e!==R;)t.push(e),K.test(n.charAt(Q))?(e=n.charAt(Q),Q++):(e=R,0===Z&&o(L));else t=R;return t!==R&&(V=r,t=M()),r=t}function m(){var n,r,t,e;if(n=Q,r=C(),r!==R){if(t=[],e=h(),e!==R)for(;e!==R;)t.push(e),e=h();else t=R;t!==R?(V=n,r=N(t),n=r):(Q=n,n=R)}else Q=n,n=R;return n}function C(){var r;return 58===n.charCodeAt(Q)?(r=O,Q++):(r=R,0===Z&&o(P)),r}var A,F=arguments.length>1?arguments[1]:{},R={},E={Start:c},w=c,S=function(n){return{containers:n}},b=function(n){return n},j=function(n,r,t){return{label:n,position:r,modifier:t}},k=">",T={type:"literal",value:">",description:'">"'},B=function(n){return n.join("")},I=function(n){return n},U={type:"any",description:"any character"},q=function(n){return n},z="\\",D={type:"literal",value:"\\",description:'"\\\\"'},G=function(n){return n},H="#",J={type:"literal",value:"#",description:'"#"'},K=/^[0-9]/,L={type:"class",value:"[0-9]",description:"[0-9]"},M=function(){return parseInt(t(),10)},N=function(n){return n.join("")},O=":",P={type:"literal",value:":",description:'":"'},Q=0,V=0,W=[{line:1,column:1,seenCR:!1}],X=0,Y=[],Z=0;if("startRule"in F){if(!(F.startRule in E))throw new Error("Can't start parsing from rule \""+F.startRule+'".');w=E[F.startRule]}if(A=w(),A!==R&&Q===n.length)return A;throw A!==R&&Q<n.length&&o({type:"end",description:"end of input"}),i(null,Y,X<n.length?n.charAt(X):null,X<n.length?u(X,X+1):u(X,X))}return n(r,Error),{SyntaxError:r,parse:t}}();
},{}],13:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function mergeOptions(e,r){var t={};for(var a in e)t[a]=e[a];for(var a in r)t[a]=r[a];return t}function GlanceSelector(e){var r={};r.customLabels=e.customLabels||{},r.containerStrategy=e.containerStrategy;var t=function(e){var t=_parser2["default"].parse(e),a=resolveCustomLabels(t,r.customLabels,r),n=r.containerStrategy.search(t.containers,document,0,a);return 1===n.length?n[0]:n};return t.addCustomLabels=function(e){r.customLabels=mergeOptions(r.customLabels,e)},t.setLogLevel=function(e){_logger2["default"].setLogLevel(e)},t}function resolveCustomLabels(e,r,t){var a={};return e.containers.forEach(function(e){var n=r[e.label];"function"==typeof n?a[e.label]=n(GlanceSelector({containerStrategy:t.containerStrategy,customLabels:mergeOptions(r,a)}),e):a[e.label]=r[e.label]}),a}Object.defineProperty(exports,"__esModule",{value:!0});var _discoverParent=require("./container-strategies/discover-parent"),_discoverParent2=_interopRequireDefault(_discoverParent),_default=require("./find-strategies/default"),_default2=_interopRequireDefault(_default),_parser=require("./parser"),_parser2=_interopRequireDefault(_parser),_logger=require("./logger"),_logger2=_interopRequireDefault(_logger),defaultContainerStrategy=new _discoverParent2["default"](_default2["default"]);exports["default"]=GlanceSelector({containerStrategy:defaultContainerStrategy});
},{"./container-strategies/discover-parent":1,"./find-strategies/default":6,"./logger":11,"./parser":12}]},{},[10])


//# sourceMappingURL=bundle.js.map